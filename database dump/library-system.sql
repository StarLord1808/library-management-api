-- PHPMYADMIN SQL DUMP
-- VERSION 5.1.1
-- HTTPS://WWW.PHPMYADMIN.NET/
--
-- HOST: 127.0.0.1
-- GENERATION TIME: MAR 25, 2023 AT 05:06 PM
-- SERVER VERSION: 10.4.20-MARIADB
-- PHP VERSION: 7.3.29

CREATE DATABASE "library-system" COLLATE utf8mb4_unicode_ci;
-- Drop the database if it already exists
DROP DATABASE IF EXISTS "library-system";
USE "library-system";

SET SQL_MODE = 'NO_AUTO_VALUE_ON_ZERO';
START TRANSACTION;
SET TIME_ZONE = "+00:00";

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

-- TABLE STRUCTURE FOR TABLE `AUTHOR`
CREATE TABLE `AUTHOR` (
    `AUTHORID` INT NOT NULL AUTO_INCREMENT,
    `NAME` VARCHAR(200) COLLATE utf8mb4_unicode_ci NOT NULL,
    `STATUS` ENUM('ENABLE', 'DISABLE') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'ENABLE',
    PRIMARY KEY (`AUTHORID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

INSERT INTO `AUTHOR` (`AUTHORID`, `NAME`, `STATUS`) VALUES
(2, 'ALAN FORBES', 'ENABLE'),
(3, 'LYNN BEIGHLEY', 'ENABLE');

-- TABLE STRUCTURE FOR TABLE `BOOK`
CREATE TABLE `BOOK` (
    `BOOKID` INT NOT NULL AUTO_INCREMENT,
    `CATEGORYID` INT NOT NULL,
    `AUTHORID` INT NOT NULL,
    `RACKID` INT NOT NULL,
    `NAME` TEXT COLLATE utf8mb4_unicode_ci NOT NULL,
    `PICTURE` VARCHAR(250) COLLATE utf8mb4_unicode_ci NOT NULL,
    `PUBLISHERID` INT NOT NULL,
    `ISBN` VARCHAR(30) COLLATE utf8mb4_unicode_ci NOT NULL,
    `NO_OF_COPY` INT NOT NULL,
    `STATUS` ENUM('ENABLE', 'DISABLE') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'ENABLE',
    `ADDED_ON` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
    `UPDATED_ON` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    PRIMARY KEY (`BOOKID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

INSERT INTO `BOOK` (`BOOKID`, `CATEGORYID`, `AUTHORID`, `RACKID`, `NAME`, `PICTURE`, `PUBLISHERID`, `ISBN`, `NO_OF_COPY`, `STATUS`, `ADDED_ON`, `UPDATED_ON`) 
VALUES
(1, 2, 3, 2, 'Mastering PHP', 'php-book.jpg', 4, '9789876543210', 10, 'ENABLE', '2023-02-14 14:30:00', '2023-02-14 14:30:00'),
(2, 1, 2, 1, 'Web Development Basics', 'web-dev.jpg', 5, '9781111111111', 8, 'ENABLE', '2023-03-20 10:15:00', '2023-03-20 10:15:00'),
(3, 3, 4, 2, 'Commerce for Beginners', 'commerce-book.jpg', 6, '9782222222222', 12, 'DISABLE', '2023-04-05 09:45:00', '2023-04-05 09:45:00'),
(4, 4, 5, 3, 'Advanced Mathematics', 'math-book.jpg', 7, '9783333333333', 5, 'ENABLE', '2023-05-18 13:00:00', '2023-05-18 13:00:00'),
(5, 1, 6, 4, 'HTML & CSS for Beginners', 'html-css-book.jpg', 8, '9784444444444', 20, 'ENABLE', '2023-06-22 15:00:00', '2023-06-22 15:00:00'),
(6, 2, 7, 1, 'Programming with Python', 'python-book.jpg', 9, '9785555555555', 25, 'ENABLE', '2023-07-01 16:45:00', '2023-07-01 16:45:00'),
(7, 3, 8, 5, 'Business Basics', 'business-book.jpg', 10, '9786666666666', 18, 'DISABLE', '2023-08-10 11:30:00', '2023-08-10 11:30:00'),
(8, 4, 9, 6, 'Calculus Simplified', 'calculus-book.jpg', 11, '9787777777777', 7, 'ENABLE', '2023-09-25 18:15:00', '2023-09-25 18:15:00'),
(9, 1, 10, 1, 'JavaScript Essentials', 'js-book.jpg', 12, '9788888888888', 14, 'ENABLE', '2023-10-12 19:00:00', '2023-10-12 19:00:00'),
(10, 1, 2, 1, 'Learn SQL in 7 Days', 'sql-book.jpg', 3, '9781234567890', 15, 'ENABLE', '2023-01-10 12:00:00', '2023-01-10 12:00:00');

-- TABLE STRUCTURE FOR TABLE `CATEGORY`
CREATE TABLE `CATEGORY` (
    `CATEGORYID` INT NOT NULL AUTO_INCREMENT,
    `NAME` VARCHAR(200) COLLATE utf8mb4_unicode_ci NOT NULL,
    `STATUS` ENUM('ENABLE', 'DISABLE') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'ENABLE',
    PRIMARY KEY (`CATEGORYID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

INSERT INTO `CATEGORY` (`CATEGORYID`, `NAME`, `STATUS`) VALUES
(1, 'WEB DESIGN', 'ENABLE'),
(2, 'PROGRAMMING', 'ENABLE'),
(3, 'COMMERCE', 'ENABLE'),
(4, 'MATH', 'ENABLE'),
(5, 'WEB DEVELOPMENT', 'ENABLE');



-- TABLE STRUCTURE FOR TABLE `ISSUED_BOOK`
CREATE TABLE `ISSUED_BOOK` (
    `ISSUEBOOKID` INT NOT NULL AUTO_INCREMENT,
    `BOOKID` INT NOT NULL,
    `USERID` INT NOT NULL,
    `ISSUE_DATE_TIME` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
    `EXPECTED_RETURN_DATE` DATETIME NOT NULL,
    `RETURN_DATE_TIME` DATETIME DEFAULT NULL,
    `STATUS` ENUM('ISSUED', 'RETURNED', 'NOT RETURN') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'ISSUED',
    PRIMARY KEY (`ISSUEBOOKID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


INSERT INTO `ISSUED_BOOK` (`ISSUEBOOKID`, `BOOKID`, `USERID`, `ISSUE_DATE_TIME`, `EXPECTED_RETURN_DATE`, `RETURN_DATE_TIME`, `STATUS`) VALUES
(1, 2, 2, '2022-06-12 15:33:45', '2022-06-15 16:27:59', '2022-06-16 16:27:59', 'NOT RETURN'),
(2, 1, 2, '2022-06-12 18:46:07', '2022-06-30 18:46:02', '2022-06-12 18:46:14', 'RETURNED'),
(3, 7, 2, '2023-03-25 14:32:57', '2023-03-25 14:32:47', '2023-03-26 14:32:51', 'ISSUED');

-- TABLE STRUCTURE FOR TABLE `PUBLISHER`
CREATE TABLE `PUBLISHER` (
    `PUBLISHERID` INT NOT NULL AUTO_INCREMENT,
    `NAME` VARCHAR(255) COLLATE utf8mb4_unicode_ci NOT NULL,
    `STATUS` ENUM('ENABLE', 'DISABLE') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'ENABLE',
    PRIMARY KEY (`PUBLISHERID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

INSERT INTO `PUBLISHER` (`PUBLISHERID`, `NAME`, `STATUS`) VALUES
(1, 'Penguin PUBLISHING', 'ENABLE'),
(2, 'AMAZON PUBLISHING', 'ENABLE'),
(3, 'PENGUIN BOOKS LTD.', 'ENABLE'),
(4, 'VINTAGE PUBLISHING', 'ENABLE'),
(5, 'MACMILLAN PUBLISHERS', 'ENABLE'),
(6, 'SIMON &AMP; SCHUSTER', 'ENABLE'),
(7, 'HARPERCOLLINS', 'ENABLE'),
(8, 'PLUM ISLAND', 'ENABLE'),
(9, 'Oâ€™REILLY', 'ENABLE');

-- TABLE STRUCTURE FOR TABLE `RACK`
CREATE TABLE `RACK` (
    `RACKID` INT NOT NULL AUTO_INCREMENT,
    `NAME` VARCHAR(200) COLLATE utf8mb4_unicode_ci NOT NULL,
    `STATUS` ENUM('ENABLE', 'DISABLE') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'ENABLE',
    PRIMARY KEY (`RACKID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

INSERT INTO `RACK` (`RACKID`, `NAME`, `STATUS`) VALUES
(1, 'R1', 'ENABLE'),
(2, 'R2', 'ENABLE');


-- TABLE STRUCTURE FOR TABLE `USER`
CREATE TABLE `USER` (
    `ID` INT UNSIGNED NOT NULL AUTO_INCREMENT,
    `FIRST_NAME` VARCHAR(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
    `LAST_NAME` VARCHAR(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
    `EMAIL` VARCHAR(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
    `PASSWORD` VARCHAR(64) COLLATE utf8mb4_unicode_ci NOT NULL,
    `ROLE` ENUM('ADMIN', 'USER') COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT 'USER',
    PRIMARY KEY (`ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

INSERT INTO `USER` (`ID`, `FIRST_NAME`, `LAST_NAME`, `EMAIL`, `PASSWORD`, `ROLE`) VALUES
(1, 'THIRU', 'KUMARAN', 'THIRU@WEBDAMN.COM', '123', 'ADMIN'),
(2, 'MARK', 'WOOD', 'MARK@WEBDAMN.COM', '123', 'USER'),
(3, 'GEORGE', 'SMITH', 'GOERGE@WEBDAMN.COM', '123', 'ADMIN'),
(4, 'ADAM', NULL, 'ADAM@WEBDAMN.COM', '123', 'ADMIN'),
(5, 'UDHAYA', 'SHEKARA', 'UDHAYA@WEBDAMN.COM', '123', 'ADMIN');


-- AUTO_INCREMENT for all tables
ALTER TABLE `AUTHOR` AUTO_INCREMENT = 3;
ALTER TABLE `BOOK` AUTO_INCREMENT = 11;
ALTER TABLE `CATEGORY` AUTO_INCREMENT = 6;
ALTER TABLE `ISSUED_BOOK` AUTO_INCREMENT = 4;
ALTER TABLE `PUBLISHER` AUTO_INCREMENT = 10;
ALTER TABLE `RACK` AUTO_INCREMENT = 3;
ALTER TABLE `USER` AUTO_INCREMENT = 6;

COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
